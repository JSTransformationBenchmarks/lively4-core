<!DOCTYPE html>
<meta charset="utf-8">

<script src="code-mirror/lib/codemirror.js"></script>
<script src="code-mirror/addon/search/searchcursor.js"></script>
<script src="code-mirror/addon/dialog/dialog.js"></script>
<script src="code-mirror/addon/search/search.js"></script>

<body>

<my-component></my-component>

<script>
document.registerElement("my-component", class extends HTMLElement {
  createdCallback() {
    this.root = this.createShadowRoot();
    this.root.innerHTML = `
      <link rel=stylesheet href="codemirror/lib/codemirror.css">
      <link rel=stylesheet href="codemirror/addon/dialog/dialog.css">`
    this.cm = new CodeMirror(this.root, {
      value: "one\ntwo\nthree four five\ntwo\n",
      extraKeys: {"Ctrl-F": "search"}
    })
  }
})
</script>

</body>